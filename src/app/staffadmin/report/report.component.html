<div *ngIf="isShowLoader" class="loader">
  <img height="100" width="100" src="../../assets/images/loading.gif" />
</div>
<div class="event-container">
  <div class="align-heading">
    <span class="align-report-heading" (click)="downloadReport()">Report</span>
  </div>
</div>
<div *ngIf="isReport">
  <div class="row event-container align-container">
    <div class="col-md-12">
      <div class="btn-nav">
        <span
          [ngClass]="isFirstYear ? 'active' : ''"
          class="grey-btn mr10"
          (click)="onyeareChange(yearOptions[0].year, 'first')"
          >{{ yearOptions[0].year }}</span
        >
        <span
          [ngClass]="!isFirstYear ? 'active' : ''"
          class="grey-btn mr10"
          (click)="onyeareChange(yearOptions[1].year, 'second')"
          >{{ yearOptions[1].year }}</span
        >
      </div>

      <!-- <p-dropdown  [options]="yearOptions"  placeholder="Select Year" (onChange)="onyeareChange($event)" [style]="{'min-width':'140px'}"></p-dropdown> -->
    </div>
    <div class="col-md-4 align-margin-top">
      <p-dropdown
        [disabled]="!eventReadable"
        placeholder="Please Select"
        [options]="eventOptions"
        (onChange)="onEventChange($event)"
        [style]="{ 'min-width': '140px' }"
      ></p-dropdown>
    </div>
  </div>

  <div class="ui-g-12" style="padding-left: 12px">
    <!-- <button type="button"  [disabled]="!isDataAvailble" (click)="printReport()"  pButton   label="Print Report"></button> -->
    <!-- <a class="btn btn-primary"  [class.disabled]="!isDataAvailble ? true: null"   href="https://issoindia.com/isso-php/tcpdf/advancetcpdf_example/{{yearvalue}}/0/{{eventValue}}/{{gameID}}/{{schoolId}}">Download Report</a> -->
    <!-- <a class="btn btn-primary"     href="http://localhost/isso-php/isso-php/tcpdf/advancetcpdf_example/{{yearvalue}}/1/{{eventValue}}/{{gameID}}/{{schoolId}}">Download Certificate</a> -->
  </div>
</div>
<div *ngIf="reportMessage && reportMessage.trim().length > 0">
  <div class="mt-5 alert alert-danger" role="alert">
    {{ reportMessage }}
  </div>
</div>

<div class="table-responsive" *ngIf="finalGameList.length >= 1">
  <table class="table">
    <thead class="table-color">
      <tr>
        <th scope="col">Sr. No</th>
        <th scope="col">Game Name</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let game of finalGameList; let i = index">
        <td class="text-center">{{ i + 1 }}</td>
        <td class="align-photo">
          {{ game.gameName }}
        </td>

        <td class="action">
          <a
            *ngIf="game.gameType == 'Team' || game.gameType == 'Individual'"
            class=""
            href="{{ serverUrl }}tcpdf/advancetcpdf_example/{{ yearvalue }}/0/{{
              eventValue
            }}/{{ game.gameId }}/{{ schoolId }}"
            ><i class="fa fa-download" aria-hidden="true"></i
          ></a>

          <a
            *ngIf="game.gameType == 'Both'"
            class=""
            href="{{ serverUrl }}tcpdf/gameStaffReportForBothTypeGame/{{
              eventValue
            }}/{{ game.gameId }}/{{ schoolId }}"
            ><i class="fa fa-download" aria-hidden="true"></i
          ></a>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div *ngIf="!isReport">
  <div class="ui-g-12 event-container align-container">
    <div class="ui-g-4">
      <p-dropdown
        [options]="yearOptions"
        placeholder="Select Year"
        (onChange)="onyeareChange($event)"
        [style]="{ 'min-width': '140px' }"
      ></p-dropdown>
    </div>
    <div class="ui-g-4">
      <p-dropdown
        [disabled]="!eventReadable"
        placeholder="Please Select"
        [options]="eventOptions"
        (onChange)="onEventChange($event)"
        [style]="{ 'min-width': '140px' }"
      ></p-dropdown>
    </div>
  </div>

  <div class="ui-g-12" style="padding-left: 12px">
    <a
      class="btn btn-primary"
      [class.disabled]="!isDataAvailble"
      href="https://issoindia.com/isso-php/paymentInvoice/downloadInvoicePdf/{{
        yearvalue
      }}/{{ eventValue }}/{{ schoolId }}"
      >Download Invoice</a
    >
  </div>
</div>

<p-toast
  [style]="{ marginTop: '50px' }"
  styleClass="custom-toast"
  key="custom"
  position="bottom-center"
>
</p-toast>
